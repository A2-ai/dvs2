#!/bin/sh
# Variables that are present from R build process
# Sys.setenv(R_PACKAGE_NAME = pkgname)
# Sys.setenv(R_PACKAGE_DIR = pkgdir)
# Sys.setenv(R_LIBRARY_DIR = dirname(pkgdir))

# Only clean generated files when on CRAN or during R CMD check
# Note: target directories are NOT cleaned - they're gitignored and
# removing them breaks incremental compilation
if [ "$NOT_CRAN" != "true" ]; then
  rm -f  src/Makevars
  rm -rf src/rust/.cargo
  rm -rf src/rust/document.rs
  rm -rf src/entrypoint.c
  rm -f src/*-wrappers.R
fi
